import{g as L}from"./chunk-5KHUC4AD.js";import{a as O,i as z}from"./chunk-25U3VF3I.js";import{a as P}from"./chunk-RRUVTCDZ.js";import{$ as y,$a as v,$b as j,Aa as r,Ea as g,Ja as C,Lb as E,Ma as I,Sb as F,Ta as l,Va as a,Wa as o,Xa as p,Z as w,_ as S,_a as T,_b as A,ab as b,ac as D,bb as k,ib as d,jb as f,kb as V,lb as s,nb as c,pb as h,qb as x,vb as B,wa as _}from"./chunk-UHR57JUW.js";var G=()=>({scaleX:.5,scaleY:.5}),u=(m,e)=>({value:m,params:e}),R=()=>({translateX:"-40px",opacity:1}),M=()=>({translateX:"-30px",scaleX:.6,scaleY:.6,delay:"0.5s"}),Y=()=>({scaleX:0,scaleY:0,delay:".6s"}),$=()=>({scaleX:0,scaleY:0}),H=()=>({translateY:"-30px",delay:".6s"});function J(m,e){if(m&1){let n=T();a(0,"div",17),v("inView",function(){let i=w(n).index,N=b();return S(N.serviceView(i))}),a(1,"div",18),p(2,"img",19),o(),a(3,"div",20)(4,"div",21)(5,"span"),d(6),o()(),p(7,"div",22),o(),a(8,"div",23)(9,"h3",24),d(10),o(),a(11,"p",25),d(12),o()()()}if(m&2){let n=e.$implicit,t=e.index,i=b();r(2),k("alt",i.getLocalized(n.homeHeader)),l("@animate",c(10,u,i.serviceImgBool[t]?"visible":"hidden",s(9,M)))("src",i.offerImg[t]||n.image,_),r(2),l("@animate",c(14,u,i.serviceBool[t]?"visible":"hidden",s(13,Y))),r(2),f(i.getLocalized(n.offer_price,!1)),r(),l("@animate",c(18,u,i.serviceBool[t]?"visible":"hidden",s(17,$))),r(),l("@animate",c(22,u,i.serviceBool[t]?"visible":"hidden",s(21,H))),r(2),f(i.getLocalized(n.homeHeader)),r(2),f(i.getLocalized(n.offer))}}var X=class m{constructor(e,n,t,i){this.backendService=e;this.router=n;this.translate=t;this.cdr=i}services=[];currentLang="en";langChangeSubscription;head1="hidden";button="hidden";serviceBool=[];serviceImgBool=[];offerImg=["images/offer/hair.JPG","images/offer/manicure.png","images/offer/facial.PNG","images/offer/eye.JPG","images/offer/massage.JPG","images/offer/pedicure.png","images/offer/solarium.webp","images/offer/waxing.webp"];ngOnInit(){this.currentLang=this.translate.currentLang||this.translate.defaultLang||"en",this.fetchSpecialOffers(),this.langChangeSubscription=this.translate.onLangChange.subscribe(e=>{this.currentLang=e.lang,this.cdr.detectChanges()})}fetchSpecialOffers(){this.backendService.getSpecialOffers().subscribe({next:e=>{this.services=e.data,this.initializeAnimationArrays(),this.cdr.detectChanges()},error:e=>{console.error("Error fetching special offers:",e.error?.message||e.message),this.services=[],this.initializeAnimationArrays()}})}initializeAnimationArrays(){let e=this.services.length;this.serviceBool=new Array(e).fill(!1),this.serviceImgBool=new Array(e).fill(!1)}resetAnimationStates(){this.head1="hidden",this.button="hidden",this.initializeAnimationArrays()}ngOnDestroy(){this.langChangeSubscription&&this.langChangeSubscription.unsubscribe()}getLocalized(e,n=!0){if(!e)return"";if(this.currentLang==="en"&&n){let t=e.ru||"",i=e.en||"";return`${i}${i&&t?" / ":""}${t}`}return e.ru||e.en||""}serviceView(e){e<this.serviceBool.length&&e<this.serviceImgBool.length&&setTimeout(()=>{this.serviceBool[e]=!0,this.serviceImgBool[e]=!0,this.cdr.detectChanges()},0)}head1View(){setTimeout(()=>{this.head1="visible",this.cdr.detectChanges()},0)}buttonView(){setTimeout(()=>{this.button="visible",this.cdr.detectChanges()},0)}navigate(){this.router.navigate(["special-offers"])}static \u0275fac=function(n){return new(n||m)(g(P),g(L),g(A),g(B))};static \u0275cmp=C({type:m,selectors:[["app-special-section"]],decls:24,vars:25,consts:[[1,"w-full","max-w-[2000px]","mx-auto","bg-secondary","text-primary"],[1,"mx-auto","px-[2rem]","sm:px-[5rem]","xl:px-[8rem]","3xl:px-[15rem]","py-8"],[1,"text-primary","w-full","max-w-max","flex","flex-col","text-3xl","sm:text-4xl","md:text-5xl","tracking-wide",3,"inView"],[1,"w-1/3","h-0.5","bg-primary","mt-2","self-end"],[1,"relative","w-full","flex","flex-col","items-center","justify-center","px-[2rem]","sm:px-[5rem]","xl:px-[8rem]","3xl:px-[15rem]","py-[2rem]","sm:py-[3.5rem]","lg:py-[96px]","bg-cover","bg-center",2,"background-image","url('images/special-section-bg.jpg')","background-position","center 23%"],[1,"absolute","inset-0","bg-black/60","z-0"],[1,"relative","z-10","w-full","mx-auto"],[1,"overflow-x-auto","flex","scroll-smooth","pb-4","scrollbar-thin","scrollbar-thumb-primary/50","scrollbar-track-transparent","hover:scrollbar-thumb-primary"],["class","flex min-w-[300px] md:min-w-[350px] lg:min-w-[420px] flex-col items-center",3,"inView",4,"ngFor","ngForOf"],[1,"sm:mt-10","lg:mt-20","flex","flex-col","md:flex-row","items-center","justify-end","gap-3","md:gap-7"],[1,"text-xs","md:text-sm","text-primary","mb-4","md:mb-0"],[1,"group","button","flex","items-center","justify-center","gap-2","w-52","border-1","p-1","rounded-full","border-primary","relative",3,"click","inView"],[1,"w-44","h-12","justify-center","relative","bg-primary","text-black","font-medium","flex","items-center","rounded-full","group-hover:rounded-r-none","transition-all","duration-300","overflow-hidden"],[1,"h-7","group-hover:w-10","group-hover:h-12","transition-all","bg-primary","w-14","absolute","left-2/3"],[1,"flex","items-center","justify-center","bg-primary","rounded-full","h-12","w-16"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","black",1,"h-5","w-5","transform","rotate-45","group-hover:-rotate-45","transition-all"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M14 5l7 7m0 0l-7 7m7-7H3"],[1,"flex","min-w-[300px]","md:min-w-[350px]","lg:min-w-[420px]","flex-col","items-center",3,"inView"],[1,"w-48","h-48","md:w-36","md:h-36","lg:w-48","lg:h-48","rounded-full","mb-6","overflow-hidden","bg-primary/75","relative"],[1,"w-[95%]","h-[95%]","object-cover","rounded-full","absolute","left-0","bottom-0",3,"src","alt"],[1,"block","relative","mt-8","mb-16","w-full"],[1,"bg-primary","absolute","-top-10","left-1/2","-translate-x-1/2","z-10","text-white","rounded-full","w-20","h-20","flex","items-center","justify-center","text-center","p-2"],[1,"h-1","bg-primary","w-full"],[1,"md:mt-6","mb-6","md:mb-0","text-center","flex","flex-col","gap-3"],[1,"text-sm","md:text-lg","lg:text-2xl","tracking-wider","xl:leading-7","leading-6","uppercase","px-5"],[1,"text-xs","md:text-sm","lg:text-base","tracking-wider","px-5"]],template:function(n,t){n&1&&(a(0,"div",0)(1,"div",1)(2,"h2",2),v("inView",function(){return t.head1View()}),d(3),h(4,"translate"),p(5,"div",3),o()(),a(6,"div",4),p(7,"div",5),a(8,"div",6)(9,"div",7),I(10,J,13,25,"div",8),o(),a(11,"div",9)(12,"p",10),d(13),h(14,"translate"),o(),a(15,"button",11),v("click",function(){return t.navigate()})("inView",function(){return t.buttonView()}),a(16,"div",12)(17,"span"),d(18),h(19,"translate"),o()(),p(20,"span",13),a(21,"div",14),y(),a(22,"svg",15),p(23,"path",16),o()()()()()()()),n&2&&(r(2),l("@animate",c(14,u,t.head1,s(13,G))),r(),V(" ",x(4,7,"SPECIALS.SECTION_TITLE")," "),r(7),l("ngForOf",t.services),r(3),f(x(14,9,"SPECIALS.FOOTER_TEXT")),r(5),f(x(19,11,"SPECIALS.EXPLORE_BUTTON")),r(2),l("@animate",c(18,u,t.button,s(17,R))),r(),l("@animate",c(22,u,t.button,s(21,R))))},dependencies:[F,E,O,D,j],encapsulation:2,data:{animation:[z]}})};export{X as a};
